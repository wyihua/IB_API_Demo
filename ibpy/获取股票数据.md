#### 我想要做一个demo出来的话，这个demo的功能是：
1.	能够监控市场数据
2.	能够做出一个算法获得股票
3.	能够配置在线程上面，每隔一段时间自动执行一次（Node）

现在缺少的信息是如何获取市场/股票数据。

## 获取股票数据

#### 现在我们要找到关于获取股票数据的内容。

#### 首先我们分析一下之前的文档资料。
GitHub上面的官方quick start教程里面没有给我提供获取股票数据的文档。只有可能在sample的代码里面有给出来。
我可能可以在以下地方找到获取股票数据内容的方法：
1.	找找看有没有完整的官方教程（推荐）
2.	谷歌第三方教程

#### 查看官方教程？
https://github.com/blampe/IbPy/issues/46
根据上面这个链接所指向的issue，ibpy的使用方法和官方api一样？

## 研究一个南洋理工的教程
#### 链接是：
https://nbviewer.jupyter.org/github/anthonyng2/ib/blob/master/IbPy%20Demo.ipynb

这篇教程讲述的是关于ibpy的使用，里面可能包括关于调取股票数据的信息。

#### 这篇文章的主要内容有：
1.	获得账号数据（2）
2.	下单
3.	获得市场数据（1）
4.	获得历史数据
5.	获得深度市场数据（3）
6.	下载实时数据
7.	输出执行结果
括号里面是我们要看的知识的顺序。

#### 怎么获得市场数据
可以通过reqMktData函数。（然而这个方法貌似得不到有价值的返回值，所以要考虑采用别的方法）

## 其他获得市场数据

首先一个问题是了解tick在股票方面的定义：是增减幅的意思。

#### 而这个教程能够告诉我们的关于tick的信息有：
1.	价格
2.	尺寸（千万级数字，应该指的是数量）
3.	潜在变动（？）
4.	选项价格（？）

我就考虑怎么样获得前两个信息吧。

#### 获得tick价格所需要的信息有：
1.	callback的价格
2.	借助pd库，将callback价格中的某些属性（id，价格）放到python对象里面
3.	创建一组“属性”
4.	将pd的结果的映射到上面创建的“属性组”里面

#### 这里我们所需要了解的有：
1.	Callback是怎么获得的
2.	怎么样利用pd（感觉不是特别重要，知道是个数学分析工具就行了）
3.	Python里面的map是做什么用的

#### 分析这里的map的用法
Python里面正常的map是一个独立函数，而不是某个对象的成员函数。作为独立函数，map是用来将一个可以遍历的对象里面的所有元素按照指定函数一一处理掉。
这里显然不是这个用法。
我现在看懂了，这个函数是将filed现实的“数字代码”转化成相应的“文字”的类型。

#### callback该怎么获得
根据第三个代码，callback是IBwrapper。


## CALLBACK的流程
#### 这里讲述一下callback是怎么initialized和implemented的：
1.	通过IBWrapper声明
2.	用initiate_variables初始化

#### 执行结果
显示没有wrapper模块

#### 查看github
现在的github上面的库并不是南洋理工的那篇教程里面的库。可能原理是一样的，但是名字不一样了。
现在我能找到的替代品是：
1.	AnyWrapper（需要以“对象”作为模板，这里“对象”的要求。。。没有用到）
2.	EWrapper（需要以AnyWrapper作为模板）


#### 结果
发现这两个wrapper都没有写好，现在不能使用


## 了解项目的SAMPLE
根据上述情况，现在认为最好的“知道获取信息的函数”的方式是查看项目的demo代码。

#### 这demo的文件夹里面，看名字看起来有用的代码有：
1.	API Coverage（这个里面的代码太复杂，不像是直接使用api）
2.	Example（看起来这个是最有可能的）

## 研究EXAMPLE
这应该是对于ibpy的最后一次尝试了。

#### 代码很简单：
1.	调用contract，connection和message三个模块（最后一个是我想知道的）
2.	声明两个handlers
3.	在主函数里面创建“连接”对象，绑定处理器，发动连结
4.	构造一个inner函数用来让connection对象获得最新的信息（结果没用）


#### 结果
Win：没有输出有效地信息。可能是因为win上面的不支持。我需要换mac试一下。
Mac：同没有结果。。。


#### 之前reqMktData的结果到底是什么
[-1, 2119, 'Market data farm is connecting:cashfarm']
[-1, 2104, 'Market data farm connection is OK:cashfarm']
貌似，没什么用。这不是数据。

